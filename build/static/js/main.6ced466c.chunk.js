(this.webpackJsonpbloodbank=this.webpackJsonpbloodbank||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),s=a.n(r),i=(a(115),a(116),a(19)),o=a(13),l=a(11),j=a(21),u=a.n(j),d=a(31),b=a(206),m=a(224),p=a(209),O=a(212),h=a(211),x=a(38),g=a.n(x),f=a(2),v=Object(b.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},chip:{margin:e.spacing(.5)},section1:{margin:e.spacing(3,2)},section2:{margin:e.spacing(2)},section3:{margin:e.spacing(3,1,1)}}})),S=function(e){var t=e.status,a=e.group,c=localStorage.getItem("email"),r=localStorage.getItem("name"),s=v(),o=Object(n.useState)([]),j=Object(l.a)(o,2),b=j[0],x=j[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.next=3,g.a.get("https://minhaj-bloodbank.herokuapp.com/data/".concat(t,"/").concat(a,"/").concat(n));case 3:c=e.sent,"Your Token Is Expired"===(r=c.data)?alert(r):(b=[],r.map((function(e){b.push(e)})),x(b));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,a]),Object(f.jsx)("div",{children:b&&b.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(p.a,{container:!0,alignItems:"center",children:Object(f.jsx)(p.a,{item:!0,xs:!0,children:Object(f.jsx)(h.a,{gutterBottom:!0,variant:"h4",children:e.name})})}),Object(f.jsx)(p.a,{container:!0,alignItems:"center",children:Object(f.jsx)(p.a,{item:!0,xs:!0,children:Object(f.jsx)(h.a,{gutterBottom:!0,variant:"h6",children:e.email})})}),Object(f.jsx)(p.a,{item:!0,xs:!0,children:Object(f.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.avatar),alt:"Avatar"})}),Object(f.jsx)(h.a,{color:"textSecondary",variant:"body2",children:e.address}),Object(f.jsx)(O.a,{variant:"middle"}),Object(f.jsx)("div",{className:s.section2,children:Object(f.jsxs)("div",{children:[Object(f.jsx)(m.a,{className:s.chip,label:"Age : "+e.age}),Object(f.jsx)(m.a,{className:s.chip,label:e.gender}),Object(f.jsx)(m.a,{className:s.chip,label:e.city}),Object(f.jsx)(m.a,{className:s.chip,label:e.phone}),Object(f.jsx)(i.b,{style:{textDecoration:"none"},to:{pathname:"/Map",state:{long:e.long,lati:e.lati}},children:Object(f.jsx)(m.a,{style:{cursor:"pointer"},className:s.chip,label:"Map View",color:"primary"})}),Object(f.jsx)(i.b,{style:{textDecoration:"none"},to:{pathname:"/chat",state:{dataEmail:e.email,dataName:e.name,userName:r,userEmail:c}},children:Object(f.jsx)(m.a,{style:{cursor:"pointer"},className:s.chip,label:"Chat",color:"secondary"})})]})})]},t)}))})},C=a(213),y=(a(140),Object(b.a)((function(e){return{root:{flexGrow:1}}}))),N=function(){var e=Object(o.e)(),t=Object(n.useState)("Donor"),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)("A"),i=Object(l.a)(s,2),j=i[0],u=i[1],d=localStorage.getItem("name"),b=localStorage.getItem("avatar"),m=y();return Object(f.jsxs)("div",{className:m.root,children:[Object(f.jsxs)("div",{className:"header_div",children:[Object(f.jsx)("p",{children:d}),Object(f.jsx)("img",{src:"data:image/jpeg;base64,".concat(b),alt:"avatar"}),Object(f.jsx)("button",{onClick:function(){return localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("avatar"),void e.push("/")},children:"LogOut"})]}),Object(f.jsxs)(p.a,{container:!0,spacing:3,children:[Object(f.jsx)(p.a,{item:!0,xs:6,children:Object(f.jsx)(C.a,{className:"Donor"===c?"selectedStatus":"paper",onClick:function(){return r("Donor")},children:"Donor"})}),Object(f.jsx)(p.a,{item:!0,xs:6,children:Object(f.jsx)(C.a,{className:"Needer"===c?"selectedStatus":"paper",onClick:function(){return r("Needer")},children:"Needer"})}),Object(f.jsx)(p.a,{item:!0,xs:3,children:Object(f.jsx)(C.a,{className:"A"===j?"selectedGroup":"paperA",onClick:function(){return u("A")},children:"Group A"})}),Object(f.jsx)(p.a,{item:!0,xs:3,children:Object(f.jsx)(C.a,{className:"B"===j?"selectedGroup":"paperA",onClick:function(){return u("B")},children:"Group B"})}),Object(f.jsx)(p.a,{item:!0,xs:3,children:Object(f.jsx)(C.a,{className:"O"===j?"selectedGroup":"paperA",onClick:function(){return u("O")},children:"Group O"})}),Object(f.jsx)(p.a,{item:!0,xs:3,children:Object(f.jsx)(C.a,{className:"AB"===j?"selectedGroup":"paperA",onClick:function(){return u("AB")},children:"Group AB"})}),Object(f.jsx)(p.a,{item:!0,xs:2}),Object(f.jsx)(p.a,{item:!0,xs:8,children:Object(f.jsx)(S,{status:c,group:j})}),Object(f.jsx)(p.a,{item:!0,xs:2})]})]})},k=a(67),w=function(e){var t=e.location.state,a=t.long,c=t.lati;return console.log(c),Object(n.useEffect)((function(){k.a.Init({googleApiKey:"AIzaSyCynBZZ9s3-726-LF3cwyJ-_s_yocevg6I",markerObjects:[{markerLat:c,markerLong:a}]}),k.a.Run("div#GoogleMap")}),[a,c]),Object(f.jsx)("div",{id:"GoogleMap"})},A=a(221),I=a(218),B=a(215),D=a(220),E=a(214),M=(a(141),Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})));function W(){var e=Object(o.e)(),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),j=Object(l.a)(s,2),b=j[0],m=j[1],O=M(),x=function(){var t=Object(d.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={email:c,password:b},t.next=3,g.a.post("https://minhaj-bloodbank.herokuapp.com/login/",a);case 3:""!==(n=t.sent).data.name&&(console.log(n.data),localStorage.setItem("name",n.data.name),localStorage.setItem("email",n.data.email),localStorage.setItem("avatar",n.data.avatar),localStorage.setItem("token",n.data.token),e.push("/Display"));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"Main_login",children:[Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsxs)(E.a,{className:"login_parent",maxWidth:"xs",children:[Object(f.jsx)(B.a,{}),Object(f.jsxs)("div",{className:O.paper,children:[Object(f.jsx)(A.a,{id:"avatar",className:O.avatar}),Object(f.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(f.jsx)(D.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",value:c,name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return r(e.target.value)}}),Object(f.jsx)(D.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:b,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return m(e.target.value)}}),Object(f.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",id:"submit",className:O.submit,onClick:function(){return x()},children:"Sign In"}),Object(f.jsx)(p.a,{container:!0,children:Object(f.jsx)(p.a,{item:!0,children:Object(f.jsx)(i.b,{to:"/signup",style:{color:"black"},children:"Don't have an account? Sign Up"})})})]})]})]})}var G=a(222),_=a(219),F=a(223),P=(a(142),Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})));function T(){var e=Object(o.e)(),t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),j=Object(l.a)(s,2),b=j[0],m=j[1],O=Object(n.useState)(""),x=Object(l.a)(O,2),v=x[0],S=x[1],C=Object(n.useState)(""),y=Object(l.a)(C,2),N=y[0],k=y[1],w=Object(n.useState)(""),B=Object(l.a)(w,2),M=B[0],W=B[1],T=Object(n.useState)(""),q=Object(l.a)(T,2),L=q[0],J=q[1],R=Object(n.useState)(""),U=Object(l.a)(R,2),Z=U[0],z=U[1],K=Object(n.useState)(""),V=Object(l.a)(K,2),Y=V[0],H=V[1],Q=Object(n.useState)(""),X=Object(l.a)(Q,2),$=X[0],ee=X[1],te=Object(n.useState)(""),ae=Object(l.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(null),se=Object(l.a)(re,2),ie=se[0],oe=(se[1],Object(n.useState)(null)),le=Object(l.a)(oe,2),je=le[0],ue=le[1],de=Object(n.useState)(0),be=Object(l.a)(de,2),me=be[0],pe=be[1],Oe=P(),he=function(){navigator.geolocation.getCurrentPosition((function(e){pe(e.coords.longitude),ue(e.coords.latitude)}))};Object(n.useEffect)((function(){he()}),[]);var xe=function(){var t=Object(d.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=je){t.next=5;break}he(),alert("Please allow to access location first"),t.next=22;break;case 5:return(a=new FormData).append("avatar",ie),a.append("name",c),a.append("phone",b),a.append("long",me),a.append("lati",je),a.append("address",v),a.append("email",N),a.append("age",M),a.append("password",L),a.append("status",Z),a.append("city",Y),a.append("blood",$),a.append("gender",ne),t.next=21,g.a.post("https://minhaj-bloodbank.herokuapp.com/",a,{headers:{"Content-Type":"multipart/form-data"}});case 21:e.push("/");case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ge=function(e){var t=e.target.result;ie=btoa(t),console.log("infunction",ie)};return Object(f.jsxs)("div",{className:"Main",children:[Object(f.jsx)("br",{}),Object(f.jsx)(E.a,{className:"signUp_parent",maxWidth:"xs",children:Object(f.jsxs)("div",{className:Oe.paper,children:[Object(f.jsx)(A.a,{className:Oe.avatar,id:"avatar"}),Object(f.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(f.jsxs)(p.a,{container:!0,spacing:2,children:[Object(f.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(f.jsx)(D.a,{autoComplete:"name",name:"Name",value:c,required:!0,fullWidth:!0,id:"Name",label:"Name",autoFocus:!0,onChange:function(e){return r(e.target.value)}})}),Object(f.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(f.jsx)(D.a,{required:!0,fullWidth:!0,id:"Phone",label:"Phone No.",name:"Phone",autoComplete:"phone",onChange:function(e){return m(e.target.value)}})}),Object(f.jsx)(p.a,{item:!0,xs:12,children:Object(f.jsx)(D.a,{required:!0,fullWidth:!0,id:"address",label:"Address",name:"address",autoComplete:"address",onChange:function(e){return S(e.target.value)}})}),Object(f.jsx)(p.a,{item:!0,xs:9,children:Object(f.jsx)(D.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return k(e.target.value)}})}),Object(f.jsx)(p.a,{item:!0,xs:3,children:Object(f.jsx)(D.a,{required:!0,fullWidth:!0,id:"age",label:"Age",name:"age",autoComplete:"age",onChange:function(e){return W(e.target.value)}})}),Object(f.jsx)(p.a,{item:!0,xs:8,children:Object(f.jsx)(D.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return J(e.target.value)}})}),Object(f.jsxs)(p.a,{item:!0,xs:4,children:[Object(f.jsx)(G.a,{children:"Status"}),Object(f.jsxs)(_.a,{value:Z,onChange:function(e){return z(e.target.value)},children:[Object(f.jsx)(F.a,{value:"Donor",children:"Donor"}),Object(f.jsx)(F.a,{value:"Needer",children:"Needer"})]})]}),Object(f.jsx)(p.a,{item:!0,xs:4,children:Object(f.jsx)(D.a,{fullWidth:!0,name:"City",label:"City",type:"text",id:"city",value:Y,onChange:function(e){return H(e.target.value)}})}),Object(f.jsxs)(p.a,{item:!0,xs:4,children:[Object(f.jsx)(G.a,{children:"Blood Group"}),Object(f.jsxs)(_.a,{value:$,onChange:function(e){return ee(e.target.value)},children:[Object(f.jsx)(F.a,{value:"A",children:"A"}),Object(f.jsx)(F.a,{value:"B",children:"B"}),Object(f.jsx)(F.a,{value:"AB",children:"AB"}),Object(f.jsx)(F.a,{value:"O",children:"0"})]})]}),Object(f.jsxs)(p.a,{item:!0,xs:2,children:[Object(f.jsx)(G.a,{children:"Gender"}),Object(f.jsxs)(_.a,{value:ne,onChange:function(e){return ce(e.target.value)},children:[Object(f.jsx)(F.a,{value:"male",children:"Male"}),Object(f.jsx)(F.a,{value:"female",children:"Female"})]})]}),Object(f.jsx)(p.a,{item:!0,xs:6,children:Object(f.jsx)("input",{type:"file",name:"avatar",id:"avatar_img",accept:"image/*",onChange:function(e){return function(e){if(1==e.target.files.length){var t=e.target.files[0];if(t){var a=new FileReader;a.onload=ge,a.readAsBinaryString(t)}}}(e)}})})]}),Object(f.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",className:Oe.submit,id:"submit",onClick:function(){return xe()},children:"Sign Up"}),Object(f.jsx)(p.a,{container:!0,justify:"flex-end",children:Object(f.jsx)(p.a,{item:!0,children:Object(f.jsx)(i.b,{to:"/",style:{color:"black"},children:"Already have an account? Sign in"})})})]})})]})}var q=a(97),L=a.n(q),J=(a(172),function(e){var t=L()("https://minhaj-bloodbank.herokuapp.com"),a=e.location.state,c=a.dataEmail,r=(a.dataName,a.userEmail),s=a.userName;c=c.split(".")[0]+c.split(".")[1],r=r.split(".")[0]+r.split(".")[1];var i=Object(n.useState)(""),o=Object(l.a)(i,2),j=o[0],b=o[1],m=Object(n.useState)(""),p=Object(l.a)(m,2),O=p[0],h=p[1],x=Object(n.useState)([]),g=Object(l.a)(x,2),v=g[0],S=g[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(c>r?c+r:r+c),t.emit("RoomJoin",{merge:j}),t.on("getMsgs",(function(e){S(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[j]);return Object(f.jsx)("div",{className:"msg_main",children:Object(f.jsxs)("div",{className:"msg_box",children:[Object(f.jsx)("div",{className:"allMsgs",children:v&&v.map((function(e){return Object(f.jsx)("div",{className:r==e.senderEmail?"selfMsg":"othersMsg",children:Object(f.jsxs)("p",{children:[e.msg,r==e.senderEmail&&Object(f.jsx)("button",{className:"DltBtn",onClick:function(){return a=e._id,console.log(a),void t.emit("deleteThis",{key:a,merge:j});var a},children:"-"})]})},e._id)}))}),Object(f.jsxs)("div",{className:"input_btn",children:[Object(f.jsx)("input",{type:"text",value:O,onChange:function(e){return h(e.target.value)}}),Object(f.jsx)("button",{onClick:function(){return t.emit("sendMsg",{merge:j,msg:O,sender:s,senderEmail:r}),void h("")},children:"Send"})]})]})})});var R=function(){return Object(f.jsxs)(i.a,{children:[Object(f.jsx)(o.a,{exact:!0,path:"/",component:W}),Object(f.jsx)(o.a,{path:"/signup",component:T}),Object(f.jsx)(o.a,{path:"/Display",component:N}),Object(f.jsx)(o.a,{path:"/Map",component:w}),Object(f.jsx)(o.a,{path:"/chat",component:J})]})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,226)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root")),U()}},[[173,1,2]]]);
//# sourceMappingURL=main.6ced466c.chunk.js.map